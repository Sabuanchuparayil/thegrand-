# Product Generation Guide

## Overview
This guide explains how to generate and upload mock products to Sanity CMS using the automated script powered by Gemini AI.

## Prerequisites

### 1. Environment Variables
Make sure your `.env.local` file contains:

```env
# Gemini API for product generation
GEMINI_API_KEY=your_gemini_api_key_here

# Sanity CMS Configuration
NEXT_PUBLIC_SANITY_PROJECT_ID=your_project_id
NEXT_PUBLIC_SANITY_DATASET=production
SANITY_API_TOKEN=your_sanity_api_token_with_write_permissions
```

### 2. Get Gemini API Key
1. Go to [Google AI Studio](https://makersuite.google.com/app/apikey)
2. Sign in with your Google account
3. Create a new API key
4. Copy the API key and add it to `.env.local`

### 3. Get Sanity API Token
1. Go to [Sanity Manage](https://www.sanity.io/manage)
2. Select your project
3. Go to API → Tokens
4. Create a new token with **Editor** or **Administrator** permissions
5. Add it to `.env.local` as `SANITY_API_TOKEN`

## Usage

### Step 1: Test with Dry Run (Recommended)
Generate products without uploading to test the script:

```bash
npx tsx scripts/generate-mock-products.ts --dry-run --count=1
```

This will:
- Generate 1 product per category (7 products total)
- Show you the generated product data
- NOT upload to Sanity
- Help you verify everything works

### Step 2: Generate All Products
Generate 3 products per category (21+ products total) and upload to Sanity:

```bash
npx tsx scripts/generate-mock-products.ts --count=3
```

Or generate more products per category:

```bash
npx tsx scripts/generate-mock-products.ts --count=5  # 5 per category = 35 products
```

### Step 3: Verify on Website
1. Visit your website
2. Check category pages: `/shop/necklaces`, `/shop/earrings`, etc.
3. Visit "Explore by Culture": `/explore-by-culture`
4. Verify products display with images and attributes

## What Gets Generated

Each product includes:
- **Name**: Realistic product name generated by Gemini AI
- **Description**: 2-3 sentence description highlighting craftsmanship and materials
- **Category**: One of 7 categories (necklaces, earrings, rings, bracelets, bangles, pendants, mens-jewelry)
- **Cultural Tags**: 1-2 tags (Traditional Indian Bridal, Contemporary Minimalist, Middle Eastern Ornate, etc.)
- **Material**: 22k Gold, 18k Gold, Platinum, or Silver
- **Gemstones**: Diamond, Emerald, Sapphire, Ruby, Pearl, or None
- **Images**: 3 product images (800x800) + 1 lifestyle image (1200x800)
- **Pricing**: Dynamic or fixed pricing with gold weight, stones, and labor costs
- **Featured**: Some products marked as featured

## Categories Covered

- ✅ Necklaces (3+ products)
- ✅ Earrings (3+ products)
- ✅ Rings (3+ products)
- ✅ Bracelets (3+ products)
- ✅ Bangles (3+ products)
- ✅ Pendants (3+ products)
- ✅ Men's Jewelry (3+ products)

**Total**: Minimum 21 products

## Cultural Collections

Products are distributed across cultural tags:
- Traditional Indian Bridal
- Contemporary Minimalist
- Middle Eastern Ornate
- Halal-friendly
- Western Engagement
- Afro-Caribbean

## Troubleshooting

### Error: "GEMINI_API_KEY not set"
- Verify `.env.local` exists in project root
- Check that `GEMINI_API_KEY` is set correctly
- Restart your terminal after adding to `.env.local`

### Error: "SANITY_API_TOKEN required"
- Make sure you're not using `--dry-run` if you want to upload
- Verify `SANITY_API_TOKEN` has write permissions
- Check that `NEXT_PUBLIC_SANITY_PROJECT_ID` is correct

### Error: "Rate limit exceeded"
- Gemini API has rate limits (free tier: 15 requests/minute)
- The script includes delays between requests
- Wait a few minutes and try again
- Consider upgrading Gemini API plan for production

### Products not showing on website
- Check Sanity Studio to verify products were created
- Verify products have the correct category
- Check browser console for errors
- Clear Next.js cache: `rm -rf .next` then `npm run dev`

## Next Steps

After generating products:
1. ✅ Visit `/explore-by-culture` to see cultural collections
2. ✅ Browse category pages to see products organized by type
3. ✅ Check product detail pages for full information
4. ✅ Verify lifestyle images appear (last image in gallery)

## Notes

- Images use Unsplash URLs (can be replaced with actual product photos later)
- Products use dynamic pricing by default (can be changed in Sanity Studio)
- All generated products have realistic attributes matching The Grand brand
- Script can be run multiple times (duplicates will have different slugs)

---

**Created**: Product generation system with Gemini AI integration
**Last Updated**: Ready for execution


